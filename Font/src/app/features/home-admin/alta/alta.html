<div class="bg-primary text-white py-4">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h1 class="h2 fw-bold mb-2">Alta de Usuario</h1>
        <p class="mb-0 opacity-75">Registro de Nuevos Clientes - VidaSegura S.A.</p>
      </div>
      <div class="col-md-6 text-md-end">
        <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-md-end gap-3">
          <span class="badge bg-success fs-6 px-3 py-2">Sistema Operativo</span>
          <a routerLink="/home-admin" class="btn btn-outline-light">
            <svg width="16" height="16" fill="currentColor" class="me-2" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Panel de Admin
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container py-4">
  <div class="card border-0 shadow-sm">
    <div class="card-header bg-white border-0 pb-3">
      <div class="d-flex align-items-center">
        <div class="bg-primary p-2 rounded me-3">
          <svg width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
          </svg>
        </div>
        <h5 class="card-title mb-0 fw-bold">Registro de Nuevo Usuario</h5>
      </div>
    </div>

    <div class="card-body pt-0">
      <form (ngSubmit)="crearUsuario()" #userForm="ngForm" novalidate>

        <div class="mb-4">
          <h6 class="fw-bold text-dark mb-3 d-flex align-items-center">
            <svg width="16" height="16" fill="currentColor" class="text-primary me-2" viewBox="0 0 16 16">
              <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
            </svg>
            Informacion Personal
          </h6>

          <div class="row g-3">
            <div class="col-md-6">
              <label for="identificacion" class="form-label fw-medium">Identificacion <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="identificacion" name="identificacion"
                     [(ngModel)]="nuevoUsuario.identificacion" required minlength="4" #identificacion="ngModel"
                     [class.is-invalid]="identificacion.invalid && identificacion.touched" />
              <div *ngIf="identificacion.invalid && identificacion.touched" class="invalid-feedback">
                La identificacion es obligatoria (minimo 4 caracteres).
              </div>
            </div>

            <div class="col-md-6">
              <label for="nombreCompleto" class="form-label fw-medium">Nombre Completo <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="nombreCompleto" name="nombre_completo"
                     [(ngModel)]="nuevoUsuario.nombre_completo" required #nombreCompleto="ngModel"
                     [class.is-invalid]="nombreCompleto.invalid && nombreCompleto.touched" />
              <div *ngIf="nombreCompleto.invalid && nombreCompleto.touched" class="invalid-feedback">
                El nombre completo es obligatorio.
              </div>
            </div>

            <div class="col-md-4">
              <label for="edad" class="form-label fw-medium">Edad <span class="text-danger">*</span></label>
              <input type="number" class="form-control" id="edad" name="edad" [(ngModel)]="nuevoUsuario.edad"
                     required min="0" max="120" #edad="ngModel"
                     [class.is-invalid]="edad.invalid && edad.touched" />
              <div *ngIf="edad.invalid && edad.touched" class="invalid-feedback">
                La edad debe estar entre 0 y 120 años.
              </div>
            </div>

            <div class="col-md-4">
              <label for="seguro" class="form-label fw-medium">Seguro <span class="text-danger">*</span></label>
              <select id="seguro" class="form-select" name="seguro" [(ngModel)]="nuevoUsuario.seguro"
                      required #seguro="ngModel" [class.is-invalid]="seguro.invalid && seguro.touched">
                <option value="" disabled selected>Selecciona un Seguro</option>
                <option value="Basico">Basico</option>
                <option value="Estandar">Estandar</option>
                <option value="Premium">Premium</option>
              </select>
              <div *ngIf="seguro.invalid && seguro.touched" class="invalid-feedback">
                El seguro es obligatorio.
              </div>
            </div>

            <div class="col-md-4">
              <label for="genero" class="form-label fw-medium">Genero <span class="text-danger">*</span></label>
              <select id="genero" class="form-select" name="genero" [(ngModel)]="nuevoUsuario.genero"
                      required #genero="ngModel" [class.is-invalid]="genero.invalid && genero.touched">
                <option value="" disabled selected>Selecciona un genero</option>
                <option value="Masculino">Masculino</option>
                <option value="Femenino">Femenino</option>
              </select>
              <div *ngIf="genero.invalid && genero.touched" class="invalid-feedback">
                El genero es obligatorio.
              </div>
            </div>

            <div class="col-md-4">
              <label for="contrasenia" class="form-label fw-medium">Contraseña <span class="text-danger">*</span></label>
              <input type="password" class="form-control" id="contrasenia" name="contrasenia"
                     [(ngModel)]="nuevoUsuario.contrasenia" required minlength="5" #contrasenia="ngModel"
                     [class.is-invalid]="contrasenia.invalid && contrasenia.touched" />
              <div *ngIf="contrasenia.invalid && contrasenia.touched" class="invalid-feedback">
                La contraseña es obligatoria (mínimo 5 caracteres).
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4">
          <h6 class="fw-bold text-dark mb-3 d-flex align-items-center">
            <svg width="16" height="16" fill="currentColor" class="text-success me-2" viewBox="0 0 16 16">
              <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2z"/>
              <path d="M3.654 8.833L2 9.5V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v5.5l-1.654-.833a.5.5 0 0 0-.692.192L10.8 10.4l-.2.8-2.4-1.2-2.4 1.2-.2-.8-1.854-1.641a.5.5 0 0 0-.692-.192z"/>
            </svg>
            Informacion de Contacto
          </h6>

          <div class="row g-3">
            <div class="col-md-6">
              <label for="email" class="form-label fw-medium">Correo Electronico <span class="text-danger">*</span></label>
              <input type="email" class="form-control" id="email" name="email" [(ngModel)]="nuevoUsuario.email"
                     required email #email="ngModel" [class.is-invalid]="email.invalid && email.touched" />
              <div *ngIf="email.invalid && email.touched" class="invalid-feedback">
                Por favor, ingresa un correo valido.
              </div>
            </div>

            <div class="col-md-6">
              <label for="telefono" class="form-label fw-medium">Telefono</label>
              <input type="text" class="form-control" id="telefono" name="telefono"
                     [(ngModel)]="nuevoUsuario.telefono" placeholder="Ej: +54 9 11 1234-5678" />
            </div>
          </div>
        </div>

        <div class="mb-4">
          <h6 class="fw-bold text-dark mb-3 d-flex align-items-center">
            <svg width="16" height="16" fill="currentColor" class="text-danger me-2" viewBox="0 0 16 16">
              <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
            </svg>
            Información Medica y de Riesgo
          </h6>

          <div class="row g-3 mb-3">
            <div class="col-md-3">
              <div class="border rounded p-3 bg-light h-100">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="maneja" [(ngModel)]="nuevoUsuario.maneja" id="maneja" />
                  <label class="form-check-label fw-medium" for="maneja">
                    <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                      <path d="M8 16a8 8 0 1 1 0-16 8 8 0 0 1 0 16zM8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13z"/>
                    </svg>
                    ¿Maneja vehículos?
                  </label>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="border rounded p-3 bg-light h-100">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="usa_lentes" [(ngModel)]="nuevoUsuario.usa_lentes" id="usa_lentes" />
                  <label class="form-check-label fw-medium" for="usa_lentes">
                    <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                      <path d="M4 6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zM2.5 6a3.5 3.5 0 1 0 7 0 3.5 3.5 0 0 0-7 0z"/>
                      <path d="M2 8.5V8h1v.5a1.5 1.5 0 1 0 3 0V8h1v.5a2.5 2.5 0 1 1-5 0z"/>
                    </svg>
                    ¿Usa lentes?
                  </label>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="border rounded p-3 bg-light h-100">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="diabetico" [(ngModel)]="nuevoUsuario.diabetico" id="diabetico" />
                  <label class="form-check-label fw-medium" for="diabetico">
                    <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                      <path d="M8 5.5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5zM8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
                    </svg>
                    ¿Es diabetico?
                  </label>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="border rounded p-3 bg-light h-100">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="otra_enfermedad"
                         [(ngModel)]="nuevoUsuario.otra_enfermedad" id="otra_enfermedad" />
                  <label class="form-check-label fw-medium" for="otra_enfermedad">
                    <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                      <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                      <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                    </svg>
                    ¿Otra enfermedad?
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="nuevoUsuario.otra_enfermedad" class="row g-3">
            <div class="col-md-12">
              <label for="cualEnfermedad" class="form-label fw-medium">Especificar enfermedad</label>
              <input type="text" class="form-control" id="cualEnfermedad" name="cual_enfermedad"
                     [(ngModel)]="nuevoUsuario.cual_enfermedad"
                     placeholder="Por favor, especifica que enfermedad padeces" />
            </div>
          </div>
        </div>

        <div class="card-footer bg-light border-0 mt-4">
          <div class="d-flex justify-content-center gap-3">
            <button type="submit" class="btn btn-primary px-4" [disabled]="userForm.invalid">
              <svg width="16" height="16" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
              </svg>
              Crear Usuario
            </button>
            <button type="button" class="btn btn-outline-secondary px-4" (click)="limpiarFormulario()">
              <svg width="16" height="16" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
              </svg>
              Limpiar
            </button>
          </div>
        </div>

      </form>
    </div>
  </div>

  <div class="card border-0 shadow-sm mt-4">
    <div class="card-header bg-white border-0 pb-3">
      <div class="d-flex align-items-center">
        <div class="bg-info p-2 rounded me-3">
          <svg width="20" height="20" fill="white" viewBox="0 0 16 16">
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg>
        </div>
        <h5 class="card-title mb-0 fw-bold">Informacion Importante</h5>
      </div>
    </div>
    <div class="card-body pt-0">
      <div class="row g-3">
        <div class="col-md-4">
          <div class="d-flex align-items-start">
            <div class="bg-primary bg-opacity-10 p-2 rounded me-3 flex-shrink-0">
              <svg width="16" height="16" fill="currentColor" class="text-primary" viewBox="0 0 16 16">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
              </svg>
            </div>
            <div>
              <h6 class="fw-bold mb-1">Campos Obligatorios</h6>
              <p class="text-muted small mb-0">Los campos marcados con (*) son requeridos para proceder con el registro.</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="d-flex align-items-start">
            <div class="bg-success bg-opacity-10 p-2 rounded me-3 flex-shrink-0">
              <svg width="16" height="16" fill="currentColor" class="text-success" viewBox="0 0 16 16">
                <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z"/>
              </svg>
            </div>
            <div>
              <h6 class="fw-bold mb-1">Seguridad</h6>
              <p class="text-muted small mb-0">La información medica es confidencial.</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="d-flex align-items-start">
            <div class="bg-warning bg-opacity-10 p-2 rounded me-3 flex-shrink-0">
              <svg width="16" height="16" fill="currentColor" class="text-warning" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
              </svg>
            </div>
            <div>
              <h6 class="fw-bold mb-1">Proceso</h6>
              <p class="text-muted small mb-0">Una vez creado, el usuario podra acceder al sistema inmediatamente.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
